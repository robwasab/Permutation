<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<title>chatwidget - Composite widget for chat applications</title>
<meta name='Author' content='ActiveState'>
<link rel='stylesheet' type='text/css' href='../../aspn.css'>
</head>
<body>
<div class="doctools">
<div class="banner">
<table width="100%" border="0" cellspacing="0" cellpadding="3">
<tr>
<td align="left"><a target="_blank" href=
"http://www.activestate.com/activetcl"><img src=
"../../images/ActiveTcl.gif" border="0" align="left" alt=
"ActiveTcl"></a> </td>
<td align="center" class="heading">ActiveTcl User Guide</td>
<td align="right"><a target="_blank" href=
"http://www.activestate.com"><img src="../../images/AS_logo.gif"
border="0" align="right" alt="ActiveState Software Inc."></a> </td>
</tr>
</table>
</div>

<hr>
[ <a href="../../at.pkg_index.html">Main table Of Contents</a> | <a
href="../toc.html">Tklib Table Of Contents</a> | <a href=
"../index.html">Tklib Index</a> ] 

<hr>
<h1 class="title">chatwidget(n) 1.0.0 "Composite widget for chat
applications"</h1>

<div id="name" class="section">
<h2><a name="name">Name</a></h2>

<p>chatwidget - Provides a multi-paned view suitable for display of
chat room or irc channel information</p>
</div>

<div id="toc" class="section">
<h2><a name="toc">Table Of Contents</a></h2>

<ul class="toc">
<li class="section"><a href="#toc">Table Of Contents</a></li>

<li class="section"><a href="#synopsis">Synopsis</a></li>

<li class="section"><a href="#section1">Description</a></li>

<li class="section"><a href="#section2">COMMANDS</a></li>

<li class="section"><a href="#section3">WIDGET COMMANDS</a></li>

<li class="section"><a href="#section4">EXAMPLE</a></li>

<li class="section"><a href="#see-also">See Also</a></li>

<li class="section"><a href="#keywords">Keywords</a></li>
</ul>
</div>

<div id="synopsis" class="section">
<h2><a name="synopsis">Synopsis</a></h2>

<div class="synopsis">
<ul class="requirements">
<li>package require <b class="pkgname">Tk 8.5</b></li>

<li>package require <b class="pkgname">chatwidget <span class=
"opt">?1.0.0?</span></b></li>
</ul>

<ul class="syntax">
<li><a href="#1"><b class="cmd">::chatwidget::chatwidget</b> <i
class="arg">path</i> <span class="opt">?<i class=
"arg">options</i>?</span></a></li>

<li><a href="#2"><b class="cmd">$widget</b> topic <i class=
"arg">command</i> <i class="arg">args</i></a></li>

<li><a href="#3"><b class="cmd">$widget</b> name <i class=
"arg">nick</i> <i class="arg">args</i></a></li>

<li><a href="#4"><b class="cmd">$widget</b> message <i class=
"arg">text</i> <i class="arg">args</i></a></li>

<li><a href="#5"><b class="cmd">$widget</b> hook <i class=
"arg">command</i> <i class="arg">args</i></a></li>

<li><a href="#6"><b class="cmd">$widget</b> names <i class=
"arg">args</i></a></li>

<li><a href="#7"><b class="cmd">$widget</b> entry <i class=
"arg">args</i></a></li>

<li><a href="#8"><b class="cmd">$widget</b> chat <i class=
"arg">args</i></a></li>
</ul>
</div>
</div>

<div id="section1" class="section">
<h2><a name="section1">Description</a></h2>

<p>This is a composite widget designed to simplify the construction
of chat applications. The widget contains display areas for chat
messages, user names and topic and an entry area. It automatically
handles colourization of messages per nick and manages nick
completion. A system of hooks permit the application author to
adjust display features. The main chat display area may be split
for use displaying history or for searching.</p>

<p>The widget is made up of a number of text widget and panedwindow
widgets so that the size of each part of the display may be
adjusted by the user. All the text widgets may be accessed via
widget passthrough commands if fine adjustment is required. The
topic and names sections can also be hidden if desired.</p>
</div>

<div id="section2" class="section">
<h2><a name="section2">COMMANDS</a></h2>

<dl class="definitions">
<dt><a name="1"><b class="cmd">::chatwidget::chatwidget</b> <i
class="arg">path</i> <span class="opt">?<i class=
"arg">options</i>?</span></a></dt>

<dd>
<p>Create a new chatwidget using the Tk window id <i class=
"arg">path</i>. Any options provided are currently passed directly
to the main chat text widget.</p>
</dd>
</dl>
</div>

<div id="section3" class="section">
<h2><a name="section3">WIDGET COMMANDS</a></h2>

<dl class="definitions">
<dt><a name="2"><b class="cmd">$widget</b> topic <i class=
"arg">command</i> <i class="arg">args</i></a></dt>

<dd>
<p>The chat widget can display a topic string, for instance the
topic or name given to a multi-user chatroom or irc channel.</p>

<dl class="commands">
<dt><b class="cmd">show</b></dt>

<dd>
<p>Enable display of the topic.</p>
</dd>

<dt><b class="cmd">hide</b></dt>

<dd>
<p>Disable display of the topic</p>
</dd>

<dt><b class="cmd">set <i class="arg">topic</i></b></dt>

<dd>
<p>Set the topic text to <i class="arg">topic</i>.</p>
</dd>
</dl>
</dd>

<dt><a name="3"><b class="cmd">$widget</b> name <i class=
"arg">nick</i> <i class="arg">args</i></a></dt>

<dd>
<p>Control the names and tags associated with names.</p>

<dl class="commands">
<dt><b class="cmd">list <span class="opt">?<i class=
"arg">-full</i>?</span></b></dt>

<dd>
<p>Returns a list of all the user names from the names view. If
<span class="opt">?-full?</span> is given then the list returned is
a list of lists where each sublist is made up of the nick followed
by any options that have been set on this nick entry. This may be
used to examine any application specific options that may be
applied to a nick when using the <b class="cmd">add</b>
command.</p>
</dd>

<dt><b class="cmd">add <i class="arg">nick</i> <span class=
"opt">?<i class="arg">options</i>?</span></b></dt>

<dt><b class="cmd">delete <i class="arg">nick</i></b></dt>
</dl>
</dd>

<dt><a name="4"><b class="cmd">$widget</b> message <i class=
"arg">text</i> <i class="arg">args</i></a></dt>

<dd>
<p>Add messages to the display. options are -nick, -time, -type,
-mark -tags</p>
</dd>

<dt><a name="5"><b class="cmd">$widget</b> hook <i class=
"arg">command</i> <i class="arg">args</i></a></dt>

<dd>
<p>Manage hooks. add (message, post names_group, names_nick,
chatstate), remove, run</p>
</dd>

<dt><a name="6"><b class="cmd">$widget</b> names <i class=
"arg">args</i></a></dt>

<dd>
<p>Passthrough to the name display text widget. See the <b class=
"cmd"><a href="../index.html#key120">text</a></b> widget manual for
all available commands. The chatwidget provides two additional
commands <b class="cmd">show</b> and <b class="cmd">hide</b> which
are used to control the display of this element in the widget.</p>
</dd>

<dt><a name="7"><b class="cmd">$widget</b> entry <i class=
"arg">args</i></a></dt>

<dd>
<p>Passthrough to the entry text widget. See the <b class="cmd"><a
href="../index.html#key120">text</a></b> widget manual for all
available commands.</p>
</dd>

<dt><a name="8"><b class="cmd">$widget</b> chat <i class=
"arg">args</i></a></dt>

<dd>
<p>Passthrough to the chat text widget. See the <b class="cmd"><a
href="../index.html#key120">text</a></b> widget manual for all
available commands.</p>
</dd>
</dl>
</div>

<div id="section4" class="section">
<h2><a name="section4">EXAMPLE</a></h2>

<pre class="example">
chatwidget::chatwidget .chat
proc speak {w msg} {$w message $msg -nick user}
.chat hook add post [list speak .chat]
pack .chat -side top -fill both -expand 1
.chat topic show
.chat topic set "Chat widget demo"
.chat name add "admin" -group admin
.chat name add "user" -group users -color tomato
.chat message "Chatwidget ready" -type system
.chat message "Hello, user" -nick admin
.chat message "Hello, admin" -nick user
</pre>

<p>A more extensive example is available by examining the code for
the picoirc program in the tclapps repository which ties the tcllib
<b class="package">picoirc</b> package to this <b class=
"package">chatwidget</b> package to create a simple irc client.</p>
</div>

<div id="see-also" class="section">
<h2><a name="see-also">See Also</a></h2>

<p>text(n)</p>
</div>

<div id="keywords" class="section">
<h2><a name="keywords">Keywords</a></h2>

<p><a href="../index.html#key16">chat</a>, <a href=
"../index.html#key17">chatwidget</a>, <a href=
"../index.html#key20">composite widget</a>, <a href=
"../index.html#key68">irc</a>, <a href=
"../index.html#key78">mega-widget</a>, <a href=
"../index.html#key131">widget</a></p>
</div>

<h4>Copyright &copy; 2012 <a href="http://www.activestate.com">for
compilation: ActiveState</a></h4>
</div>
</body>
</html>

