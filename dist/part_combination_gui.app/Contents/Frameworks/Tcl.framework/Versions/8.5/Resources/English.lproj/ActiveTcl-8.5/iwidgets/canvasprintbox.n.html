<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="generator" content="HTML Tidy, see www.w3.org">
<meta name='Author' content='ActiveState'>
<link rel='stylesheet' type='text/css' href='../aspn.css'>
<title>canvasprintbox - Create and manipulate a canvas print box
widget</title>
</head>
<body>
<div class="banner">
<table width="100%" border="0" cellspacing="0" cellpadding="3">
<tr>
<td align="left"><a target="_blank" href=
"http://www.activestate.com/activetcl"><img src=
"../images/ActiveTcl.gif" border="0" align="left" alt="ActiveTcl">
</a> </td>
<td align="center" class="heading">ActiveTcl User Guide</td>
<td align="right"><a target="_blank" href=
"http://www.activestate.com"><img src="../images/AS_logo.gif"
border="0" align="right" alt="ActiveState Software Inc."></a> </td>
</tr>
</table>
</div>

<br>
<h1>canvasprintbox - Create and manipulate a canvas print box
widget</h1>

<h2>SYNOPSIS</h2>

<b>canvasprintbox pathName</b> ?<i>options</i>? 

<h2>INHERITANCE</h2>

itk::Widget &lt;- Canvasprintbox 

<h2>STANDARD OPTIONS</h2>

<table cellpadding="5">
<tr>
<td valign="top"><b>activeBackground</b><br>
<b>foreground</b><br>
<b>insertBackground</b><br>
<b>insertWidth</b><br>
<b>selectBackground</b><br>
</td>
<td valign="top"><b>background</b><br>
<b>highlightBackground</b><br>
<b>insertBorderWidth</b><br>
<b>relief</b><br>
<b>selectBorderWidth</b><br>
</td>
<td valign="top"><b>borderWidth</b><br>
<b>highlightColor</b><br>
<b>insertOffTime</b><br>
<b>repeatDelay</b><br>
<b>selectForeground</b><br>
</td>
<td valign="top"><b>cursor</b><br>
<b>highlightThickness</b><br>
<b>insertOnTime</b><br>
<b>repeatInterval</b><br>
</td>
</tr>
</table>

<p>See the <a href=
"http://www.sco.com/Technology/tcl/man/tk_man/options.n.html">"options"</a>
manual entry for details on the standard options.</p>

<h2>ASSOCIATED OPTIONS</h2>

<h2>WIDGET-SPECIFIC OPTIONS</h2>

<pre>
Name:                   <b>filename</b>
Class:                  <b>FileName</b>
Command-Line Switch:    <b>-filename</b>
</pre>

<div style="margin-left: 2em">The file to write the postscript
output to (Only when output is set to "file"). If posterizing is
turned on and <b>hpagecnt</b> and/or <b>vpagecnt</b> is more than
1, x.y is appended to the filename where x is the horizontal page
number and y the vertical page number.</div>

<pre>
Name:                   <b>hpagecnt</b>
Class:                  <b>PageCnt</b>
Command-Line Switch:    <b>-hpagecnt</b>
</pre>

<div style="margin-left: 2em">Is used in combination with
<b>posterize</b> to determine over how many pages the output should
be distributed. This attribute specifies how many pages should be
used horizontaly. Any change to this attribute will automatically
update the "stamp". Defaults to 1.</div>

<pre>
Name:                   <b>orient</b>
Class:                  <b>Orient</b>
Command-Line Switch:    <b>-orient</b>
</pre>

<div style="margin-left: 2em">Determines the orientation of the
output to the printer (or file). It can take the value "portrait"
or "landscape" (default). Changes to this attribute will be
reflected immediately in the "stamp". Defaults to "landscape" but
will be changed automaticaly to the value deemed appropiate for the
current canvas. Setting this attribute when the canvasprintbox is
first constructed (instead of using the "configure" method) will
turn off the auto adjustment of this attribute.</div>

<pre>
Name:                   <b>output</b>
Class:                  <b>Output</b>
Command-Line Switch:    <b>-output</b>
</pre>

<div style="margin-left: 2em">Specifies where the postscript output
should go: to the printer or to a file. Can take on the values
"printer" or "file". The corresponding entry-widget will reflect
the contents of either the <b>printcmd</b> attribute or the
<b>filename</b> attribute. Defaults to "printer".</div>

<pre>
Name:                   <b>pageSize</b>
Class:                  <b>PageSize</b>
Command-Line Switch:    <b>-pagesize</b>
</pre>

<div style="margin-left: 2em">The pagesize the printer supports.
Changes to this attribute will be reflected immediately in the
"stamp". Defaults to "a4".</div>

<pre>
Name:                   <b>posterize</b>
Class:                  <b>Posterize</b>
Command-Line Switch:    <b>-posterize</b>
</pre>

<div style="margin-left: 2em">Indicates if posterizing is turned on
or not. Posterizing the output means that it is possible to
distribute the output over more than one page. This way it is
possible to print a canvas/region which is larger than the
specified pagesize without stretching. If used in combination with
stretching it can be used to "blow up" the contents of a canvas to
as large as size as you want (See attributes: hpagecnt and
vpagecnt). Any change to this attribute will automatically update
the "stamp". Defaults to 0.</div>

<pre>
Name:                   <b>printCmd</b>
Class:                  <b>PrintCmd</b>
Command-Line Switch:    <b>-printcmd</b>
</pre>

<div style="margin-left: 2em">The command to execute when printing
the postscript output. The command will get the postscript directed
to its standard input (Only when output is set to "printer").
Defaults to "lpr".</div>

<pre>
Name:                   <b>printRegion</b>
Class:                  <b>PrintRegion</b>
Command-Line Switch:    <b>-printregion</b>
</pre>

<div style="margin-left: 2em">A list of four coordinates specifying
which part of the canvas to print. An empty list means that the
canvas' entire <b>scrollregion</b> should be printed. Any change to
this attribute will automatically update the "stamp". Defaults to
an empty list.</div>

<pre>
Name:                   <b>stretch</b>
Class:                  <b>Stretch</b>
Command-Line Switch:    <b>-stretch</b>
</pre>

<div style="margin-left: 2em">Determines if the output should be
stretched to fill the page (as defined by the attribute pagesize)
as large as possible. The aspect-ratio of the output will be
retained and the output will never fall outside of the boundaries
of the page. Defaults to 0 but will be changed automaticaly to the
value deemed appropiate for the current canvas. Setting this
attribute when the canvasprintbox is first constructed (instead of
using the "configure" method) will turn off the auto adjustment of
this attribute.</div>

<pre>
Name:                   <b>vPageCnt</b>
Class:                  <b>PageCnt</b>
Command-Line Switch:    <b>-vpagecnt</b>
</pre>

<div style="margin-left: 2em">Is used in combination with
"posterize" to determine over how many pages the output should be
distributed. This attribute specifies how many pages should be used
verticaly. Any change to this attribute will automatically update
the "stamp". Defaults to 1.</div>

<hr>
<h2>DESCRIPTION</h2>

<p>Implements a print box for printing the contents of a canvas
widget to a printer or a file. It is possible to specify page
orientation, the number of pages to print the image on and if the
output should be stretched to fit the page. Options exist to
control the appearance and actions of the widget.</p>

<h2>METHODS</h2>

<p>The <b>canvasprintbox</b> command creates a new Tcl command
whose name is <i>pathName</i>. This command may be used to invoke
various operations on the widget. It has the following general
form:</p>

<pre>
<i>pathName option</i> ?<i>arg arg ...</i>?
</pre>

<i>Option</i> and the <i>arg</i>s determine the exact behavior of
the command. The following commands are possible for canvasprintbox
widgets: 

<h2>WIDGET-SPECIFIC METHODS</h2>

<dl>
<dt><i>pathName <b>cget</b></i> option</dt>

<dd>Returns the current value of the configuration option given by
<i>option</i>. <i>Option</i> may have any of the values accepted by
the <b>canvasprintbox</b> command.</dd>
</dl>

<dl>
<dt><i>pathName</i> <b>configure</b> ?<i>option</i>? ?<i>value
option value ...</i>?</dt>

<dd>Query or modify the configuration options of the widget. If no
<i>option</i> is specified, returns a list describing all of the
available options for <i>pathName</i> (see <b>Tk_ConfigureInfo</b>
for information on the format of this list). If <i>option</i> is
specified with no <i>value</i>, then the command returns a list
describing the one named option (this list will be identical to the
corresponding sublist of the value returned if no <i>option</i> is
specified). If one or more <i>option-value</i> pairs are specified,
then the command modifies the given widget option(s) to have the
given value(s); in this case the command returns an empty string.
<i>Option</i> may have any of the values accepted by the
<b>canvasprintbox</b> command.</dd>
</dl>

<dl>
<dt><i>pathName</i> <b>getoutput</b></dt>

<dd>Returns the value of the <b>printercmd</b> or <b>filename</b>
option depending on the current setting of <b>output</b>.</dd>
</dl>

<dl>
<dt><i>pathName</i> <b>print</b></dt>

<dd>Perfrom the actual printing of the canvas using the current
settings of all the attributes. Returns a boolean indicating wether
the printing was successful or not.</dd>
</dl>

<dl>
<dt><i>pathName</i> <b>refresh</b></dt>

<dd>Retrieves the current value for all edit fields and updates the
stamp accordingly. Is useful for Apply-buttons.</dd>
</dl>

<dl>
<dt><i>pathName</i> <b>setcanvas</b> <i>canvas</i></dt>

<dd>This is used to set the <i>canvas</i> that has to be printed. A
stamp-sized copy will automatically be drawn to show how the output
would look with the current settings.</dd>
</dl>

<dl>
<dt><i>pathName <b>stop</b></i></dt>

<dd>Stops the drawing of the "stamp". I'm currently unable to
detect when a Canvasprintbox gets destroyed or withdrawn. It's
therefore advised that you perform a stop before you do something
like that.</dd>
</dl>

<h2>COMPONENTS</h2>

<pre>
Name:                   <b>prtflentry</b>
Class:                  <b>Entry</b>
</pre>

<div style="margin-left: 2em">The prtflentry component is the entry
field for user input of the <b>filename</b> or <b>printer</b>
command (depending on the value of <b>output</b>).</div>

<pre>
Name:                   <b>hpcnt</b>
Class:                  <b>Entry</b>
</pre>

<div style="margin-left: 2em">The hpcnt component is the entry
field for user input of the number of pages to use horizontaly when
<b>posterize</b> is turned on.</div>

<pre>
Name:                   <b>vpcnt</b>
Class:                  <b>Entry</b>
</pre>

<div style="margin-left: 2em">The vpcnt component is the entry
field for user input of the number of pages to use verticaly when
<b>posterize</b> is turned on.</div>

<h2>EXAMPLE</h2>

<pre>
canvasprintbox .fsb -orient landscape -stretch 1
pack .fsb -padx 10 -pady 10 -fill both -expand yes 
</pre>

<h2>AUTHOR</h2>

Tako Schotanus 

<h2>KEYWORDS</h2>

canvasprintbox, widget
</body>
</html>

